---
abbrlink: armbian
categories: []
date: '2025-09-13T16:40:10.551017+08:00'
tags: []
title: æœºé¡¶ç›’è¾“å…¥armbianç³»ç»Ÿ
updated: '2025-09-13T20:57:42.874+08:00'
---
åœ¨ Armbian æ— ç•Œé¢ç³»ç»Ÿä¸Šå®‰è£…å’Œé…ç½® v2rayA ç¡®å®æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå®ƒå¯ä»¥é€šè¿‡ Web ç•Œé¢è®©ä½ æ›´æ–¹ä¾¿åœ°ç®¡ç†ä»£ç†è¿æ¥ã€‚ä¸‹é¢æˆ‘ä¼šä¸ºä½ æä¾›è¯¦ç»†çš„æ­¥éª¤ã€‚

è¿™ä¸ªè¡¨æ ¼æ±‡æ€»äº†å®‰è£… v2rayA çš„ä¸»è¦æ–¹å¼åŠå…¶ç‰¹ç‚¹ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å’Œè®¾å¤‡æƒ…å†µé€‰æ‹©ï¼š


| å®‰è£…æ–¹å¼           | é€‚åˆçš„ç³»ç»Ÿ                              | ä¸»è¦ä¼˜ç‚¹                         | éœ€è¦æ³¨æ„                              |
| ------------------ | --------------------------------------- | -------------------------------- | ------------------------------------- |
| **APT è½¯ä»¶æºå®‰è£…** | Debianã€Ubuntu åŠå…¶è¡ç”Ÿç‰ˆï¼ˆå¦‚ Armbianï¼‰ | å®˜æ–¹æ”¯æŒï¼Œç®¡ç†æ–¹ä¾¿ï¼ˆæ›´æ–°ã€å¸è½½ï¼‰ | éœ€å…ˆå®‰è£… V2Ray/Xray å†…æ ¸              |
| **Docker å®‰è£…**    | ä»»ä½•æ”¯æŒ Docker çš„ç³»ç»Ÿï¼ˆåŒ…æ‹¬ Armbianï¼‰  | ç¯å¢ƒéš”ç¦»ï¼Œä¸å—ç³»ç»Ÿä¾èµ–å½±å“       | éœ€è¦å…ˆå®‰è£… Dockerï¼Œé€æ˜ä»£ç†é…ç½®ç¨å¤æ‚ |
| **äºŒè¿›åˆ¶åŒ…å®‰è£…**   | å„ç§ Linux å‘è¡Œç‰ˆ                       | çµæ´»ï¼Œæ— éœ€ä¾èµ–åŒ…ç®¡ç†å™¨           |                                       |

### ğŸ“¦ ä¸€ã€å®‰è£…å‰çš„å‡†å¤‡å·¥ä½œ

åœ¨å®‰è£… v2rayA ä¹‹å‰ï¼Œä½ éœ€è¦ç¡®ä¿ç³»ç»Ÿä¸Šå·²ç»å®‰è£…äº† **V2Ray** æˆ– **Xray** å†…æ ¸ï¼Œå› ä¸º v2rayA æ˜¯ä¸€ä¸ªå‰ç«¯ç®¡ç†ç•Œé¢ï¼Œéœ€è¦ä¾èµ–è¿™äº›å†…æ ¸æ¥å·¥ä½œã€‚

1. **æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…**ï¼šé¦–å…ˆï¼Œç¡®ä¿ä½ çš„ Armbian ç³»ç»Ÿæ˜¯æœ€æ–°çš„ã€‚

   ```
   sudo apt update && sudo apt upgrade -y
   ```

2.å®‰è£… V2Ray/Xray æ ¸å¿ƒï¼š

* **æ¨èå®‰è£… Xray**ï¼šXray æ˜¯ V2Ray çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œé€šå¸¸åŒ…å«æ›´å¤šæ–°ç‰¹æ€§å’Œä¼˜åŒ–ã€‚ä½ å¯ä»¥ä½¿ç”¨å®˜æ–¹è„šæœ¬å®‰è£…

```
sudo bash -c "$(curl -L https://github.com/XTLS/Xray-install/raw/main/install-release.sh)" @ install
```

* æˆ–è€…å®‰è£… V2Ray
```
sudo bash -c "$(curl -L https://cdn.jsdelivr.net/gh/mzz2017/v2rayA@master/install/go.sh)"
```

* å®‰è£…å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š

  ```
  sudo systemctl status xray  # å¦‚æœå®‰è£…çš„æ˜¯ Xray
  # æˆ–è€…
  sudo systemctl status v2ray  # å¦‚æœå®‰è£…çš„æ˜¯ V2Ray
  ```

### ğŸ”§ äºŒã€å®‰è£… v2rayA

ä½ æœ‰å‡ ç§æ–¹å¼æ¥å®‰è£… v2rayAï¼Œè¿™é‡Œä»‹ç»æœ€å¸¸ç”¨çš„ä¸¤ç§ï¼šé€šè¿‡ APT è½¯ä»¶æºå®‰è£…å’Œé€šè¿‡ Docker å®‰è£…ã€‚æ–¹æ³•ä¸€ï¼šé€šè¿‡ APT è½¯ä»¶æºå®‰è£…ï¼ˆæ¨èç”¨äº Debian/Ubuntu/Armbianï¼‰

è¿™æ˜¯æœ€å¸¸è§çš„å®‰è£…æ–¹å¼ï¼Œæ–¹ä¾¿åç»­ç®¡ç†å’Œæ›´æ–°ã€‚

1. **æ·»åŠ  v2rayA çš„è½¯ä»¶æºå’Œ GPG å¯†é’¥**ï¼š

```
# æ·»åŠ  GPG å¯†é’¥
wget -qO - https://apt.v2raya.mzz.pub/key/public-key.asc | sudo tee /etc/apt/trusted.gpg.d/v2raya.asc
# æ·»åŠ è½¯ä»¶æº
echo "deb https://apt.v2raya.mzz.pub/ v2raya main" | sudo tee /etc/apt/sources.list.d/v2raya.list
```

2.æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨å¹¶å®‰è£… v2rayAï¼š

```
sudo apt update
sudo apt install v2raya
```

#### æ–¹æ³•äºŒï¼šé€šè¿‡ Docker å®‰è£…

å¦‚æœä½ çš„ç³»ç»Ÿå·²ç»å®‰è£…äº† Dockerï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å¹²å‡€ä¸”éš”ç¦»çš„é€‰æ‹©ã€‚

1. **ç¡®ä¿ Docker å·²å®‰è£…**ï¼šå¦‚æœè¿˜æ²¡å®‰è£… Dockerï¼Œè¯·å…ˆå®‰è£…ã€‚
2. **æ‹‰å–å¹¶è¿è¡Œ v2rayA é•œåƒ**ï¼š
   å¯¹äº Linux ç³»ç»Ÿï¼ˆåŒ…æ‹¬ Armbianï¼‰ï¼Œ**å¼ºçƒˆå»ºè®®ä½¿ç”¨ `--network=host` æ¨¡å¼**ä»¥è·å¾—æœ€ä½³å…¼å®¹æ€§å’ŒåŠŸèƒ½æ”¯æŒï¼ˆå¦‚é€æ˜ä»£ç†ï¼‰

```
sudo docker run -d \
  --name v2raya \
  --restart=always \
  --privileged \
  --network=host \
  -v /etc/v2raya:/etc/v2raya \
  -v /lib/modules:/lib/modules \
  mzz2017/v2raya
```

* `--privileged` å’Œ `-v /lib/modules:/lib/modules`: è¿™äº›å‚æ•°å¯¹äºå¯ç”¨**å…¨å±€é€æ˜ä»£ç†**åŠŸèƒ½é€šå¸¸æ˜¯å¿…éœ€çš„ã€‚
* `-v /etc/v2raya:/etc/v2raya`: å°†å®¹å™¨å†…çš„é…ç½®ç›®å½•æ˜ å°„åˆ°ä¸»æœºï¼Œä¿è¯é…ç½®æŒä¹…åŒ–ã€‚

### ğŸš€ ä¸‰ã€å¯åŠ¨å’Œè®¾ç½® v2rayA

å®‰è£…å®Œæˆåï¼Œä½ éœ€è¦å¯åŠ¨ v2rayA æœåŠ¡ã€‚

1. **å¯åŠ¨ v2rayA æœåŠ¡**ï¼ˆå¦‚æœä½ ä½¿ç”¨ APT æ–¹å¼å®‰è£…ï¼‰ï¼š

```
# å¯åŠ¨ v2rayA æœåŠ¡
sudo systemctl start v2raya.service
# è®¾ç½® v2rayA å¼€æœºè‡ªå¯
sudo systemctl enable v2raya.service
```

Docker æ–¹å¼åœ¨è¿è¡Œå®¹å™¨æ—¶å·²ç»ä½¿ç”¨äº† `--restart=always` å‚æ•°ï¼Œæ‰€ä»¥ä¼šè‡ªåŠ¨é‡å¯ã€‚

2.æ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼ˆAPT æ–¹å¼ï¼‰ï¼š

```
sudo systemctl status v2raya.service
```

å¦‚æœçŠ¶æ€ä¸º `active (running)`ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸã€‚

ğŸŒ å››ã€è®¿é—® Web ç•Œé¢å¹¶é…ç½®
ç°åœ¨ï¼Œä½ å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—® v2rayA çš„ Web ç®¡ç†ç•Œé¢äº†ã€‚

1. æ‰“å¼€æµè§ˆå™¨ï¼šåœ¨ä½ çš„ æœ¬åœ°ç”µè„‘ï¼ˆæ¯”å¦‚ Windows æˆ– macOS æœºå™¨ï¼‰ä¸Šæ‰“å¼€æµè§ˆå™¨ã€‚
2. è®¿é—® v2rayAï¼šåœ¨åœ°å€æ è¾“å…¥ http://<ä½ çš„ Armbian è®¾å¤‡çš„ IP åœ°å€>:2017ã€‚
   â—¦ ä¾‹å¦‚ï¼šhttp://192.168.1.10:2017
   â—¦ ä½ éœ€è¦çŸ¥é“ä½ çš„ Armbian è®¾å¤‡çš„å±€åŸŸç½‘ IP åœ°å€ï¼Œå¯ä»¥é€šè¿‡åœ¨ Armbian ä¸Šæ‰§è¡Œ ip addr æˆ– hostname -I æŸ¥çœ‹ã€‚
3. é¦–æ¬¡è®¾ç½®ï¼š
   â—¦ é¦–æ¬¡è®¿é—®ï¼Œä¼šçœ‹åˆ°åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·çš„ç•Œé¢ï¼Œè®¾ç½®ç”¨æˆ·åå’Œå¯†ç ã€‚
   â—¦ ç™»å½•åï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°æç¤ºè®¾ç½®é€æ˜ä»£ç†æˆ–ä»£ç†æ¨¡å¼çš„ç•Œé¢ï¼Œå¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ï¼ˆä¾‹å¦‚ï¼Œé€æ˜ä»£ç†éœ€è¦ TUN æ”¯æŒæˆ–ç‰¹å®šçš„ç½‘ç»œé…ç½®ï¼‰ã€‚
4. æ·»åŠ ä»£ç†èŠ‚ç‚¹ï¼š
   â—¦ åœ¨ Web ç•Œé¢ä¸­ï¼Œæ‰¾åˆ° "èŠ‚ç‚¹" æˆ– "Servers" é€‰é¡¹ã€‚
   â—¦ ä½ å¯ä»¥é€šè¿‡ "å¯¼å…¥" åŠŸèƒ½ï¼Œç²˜è´´ VMess/VLESS/SS/SSR/Trojan ç­‰åè®®çš„åˆ†äº«é“¾æ¥ï¼Œæˆ–è€…æ‰‹åŠ¨è¾“å…¥èŠ‚ç‚¹ä¿¡æ¯ã€‚
   â—¦ å¦‚æœä½ æœ‰è®¢é˜…åœ°å€ï¼Œå¯ä»¥åœ¨ "è®¢é˜…" åŒºåŸŸæ·»åŠ ï¼Œç„¶åç‚¹å‡» "æ›´æ–°" æ¥è·å–èŠ‚ç‚¹åˆ—è¡¨ã€‚
5. è¿æ¥èŠ‚ç‚¹ï¼šä»èŠ‚ç‚¹åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªä½ æƒ³è¿æ¥çš„èŠ‚ç‚¹ï¼Œç‚¹å‡» "è¿æ¥" æˆ–ç±»ä¼¼çš„æŒ‰é’®ã€‚

### âš™ï¸ äº”ã€é…ç½®ç³»ç»Ÿä»£ç†æˆ–é€æ˜ä»£ç†ï¼ˆå¯é€‰ï¼‰

ä»…ä»…åœ¨ v2rayA é‡Œè¿æ¥èŠ‚ç‚¹ï¼Œå¹¶ä¸æ„å‘³ç€ä½ ç³»ç»Ÿä¸Šçš„æ‰€æœ‰æµé‡éƒ½ä¼šèµ°ä»£ç†ã€‚ä½ éœ€è¦é¢å¤–é…ç½®ï¼š

* **æ–¹å¼ä¸€ï¼šç¯å¢ƒå˜é‡**ï¼ˆé’ˆå¯¹å‘½ä»¤è¡Œå·¥å…·ï¼‰
  ä½ å¯ä»¥åœ¨å½“å‰ç»ˆç«¯ä¸´æ—¶è®¾ç½®ï¼š

```
export http_proxy="http://127.0.0.1:20171"
export https_proxy="http://127.0.0.1:20171"
```

`20171` æ˜¯ v2rayA é»˜è®¤å¼€æ”¾çš„ HTTP ä»£ç†ç«¯å£ã€‚

è¦ä½¿ç¯å¢ƒå˜é‡æ°¸ä¹…ç”Ÿæ•ˆï¼Œå¯ä»¥å°†ä¸Šè¿°å‘½ä»¤æ·»åŠ åˆ° `~/.bashrc` æˆ– `/etc/environment` æ–‡ä»¶ä¸­ã€‚

*æ–¹å¼äºŒï¼šé€æ˜ä»£ç†**ï¼ˆå…¨å±€ä»£ç†ï¼Œæ‰€æœ‰æµé‡éƒ½ç»è¿‡ä»£ç†ï¼‰
è¿™éœ€è¦åœ¨ v2rayA çš„ Web ç•Œé¢è®¾ç½®ä¸­å¯ç”¨**é€æ˜ä»£ç†**é€‰é¡¹ï¼Œå¹¶å¯èƒ½éœ€è¦ä¸€äº›é¢å¤–çš„ç³»ç»Ÿé…ç½®ï¼ˆå¦‚è®¾ç½® iptablesï¼‰ã€‚è¿™å¯¹äºåœ¨è·¯ç”±å™¨ä¸Šè¿è¡Œ v2rayA å°¤å…¶æœ‰ç”¨ã€‚è¯·æ³¨æ„ï¼Œé€æ˜ä»£ç†çš„é…ç½®ç›¸å¯¹å¤æ‚ã€‚

### â— å…­ã€æ³¨æ„äº‹é¡¹å’Œå¸¸è§é—®é¢˜

* **é˜²ç«å¢™**ï¼šç¡®ä¿ Armbian çš„é˜²ç«å¢™ï¼ˆå¦‚ `ufw`ï¼‰æ²¡æœ‰é˜»æ­¢ç›¸å…³ç«¯å£ï¼ˆ2017, 20170-20172 ç­‰ï¼‰çš„è®¿é—®ã€‚
* **æ ¸å¿ƒç‰ˆæœ¬**ï¼šå¶å°”ä¼šå‡ºç° v2rayA ä¸æœ€æ–°ç‰ˆ Xray/V2Ray æ ¸å¿ƒæš‚æ—¶ä¸å…¼å®¹çš„æƒ…å†µã€‚å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥å°è¯•é™çº§æ ¸å¿ƒç‰ˆæœ¬ã€‚
* **æ— æ³•è®¿é—® Web ç•Œé¢**ï¼šæ£€æŸ¥ v2rayA æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼Œæ£€æŸ¥é˜²ç«å¢™è®¾ç½®ï¼Œç¡®è®¤ IP åœ°å€å’Œç«¯å£æ˜¯å¦æ­£ç¡®ã€‚
* **æ—¥å¿—æŸ¥è¯¢**ï¼š
  * å¯¹äº APT å®‰è£…ï¼š`sudo journalctl -u v2raya.service -f`
  * å¯¹äº Docker å®‰è£…ï¼š`sudo docker logs v2raya`
* **æ•°æ®æŒä¹…åŒ–**ï¼šDocker æ–¹å¼é€šè¿‡ `-v /etc/v2raya:/etc/v2raya` å°†é…ç½®ä¿å­˜åœ¨äº†ä¸»æœºä¸Šï¼Œå³ä½¿åˆ é™¤å®¹å™¨ï¼Œé…ç½®ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚
* **æ›´æ–° v2rayA**ï¼š
  * APT æ–¹å¼ï¼š`sudo apt update && sudo apt upgrade`
  * Docker æ–¹å¼ï¼šéœ€è¦æ‹‰å–æ–°é•œåƒå¹¶é‡æ–°åˆ›å»ºå®¹å™¨ã€‚

å¸Œæœ›è¿™ä»½è¯¦ç»†çš„æŒ‡å—èƒ½å¸®åŠ©ä½ åœ¨ Armbian ä¸Šé¡ºåˆ©å®‰è£…å’Œä½¿ç”¨ v2rayAï¼

æ€»ç»“ä¸€ä¸‹æµç¨‹ï¼š**åˆ·æœº -> å¯åŠ¨ Armbian -> å®‰è£… Xray/V2Ray å†…æ ¸ -> å®‰è£… v2rayA -> é€šè¿‡æµè§ˆå™¨è®¿é—® `IP:2017` è¿›è¡Œé…ç½®**ã€‚
